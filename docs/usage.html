

<!DOCTYPE html>
<html class="writer-html5" lang="en-US" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Usando a API - EOCube &mdash; API - EO Data Cube</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  

  
  

  
    <link rel="canonical" href="https://AbnerErnaniADSFatec.github.io/usage.html" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="History" href="history.html" />
    <link rel="prev" title="Instalação" href="install.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #2980B9" >
          

          
            <a href="index.html" class="icon icon-home"> 4. API EOCube
          

          
            
            <img src="_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="index.html">API - EO Data Cube</a></li>
</ul>
<p class="caption"><span class="caption-text">Documentation:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="about.html">API - EO Data Cube</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Instalação</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Usando a API - EOCube</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#acessando-dados-de-observacao-da-terra-com-a-api-eocubes">Acessando dados de observação da Terra com a API - EOCubes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#recuperando-os-metadados">Recuperando os metadados</a></li>
<li class="toctree-l3"><a class="reference internal" href="#criacao-do-cubo-de-dados-de-exemplo">Criação do Cubo de Dados de Exemplo</a></li>
<li class="toctree-l3"><a class="reference internal" href="#operacoes-com-o-cubo-de-dados">Operações com o Cubo de dados</a></li>
<li class="toctree-l3"><a class="reference internal" href="#estudo-de-caso-na-area-de-protecao-ambiental-do-planalto-central-brasilia">Estudo de Caso na Área de Proteção Ambiental do Planalto Central - Brasília</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#conclusao">Conclusão</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="history.html">History</a></li>
</ul>
<p class="caption"><span class="caption-text">Additional Notes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">4. API EOCube</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Usando a API - EOCube</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="history.html" class="btn btn-neutral float-right" title="History" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
      
      
        <a href="install.html" class="btn btn-neutral float-left" title="Instalação" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="usando-a-api-eocube">
<h1>Usando a API - EOCube<a class="headerlink" href="#usando-a-api-eocube" title="Permalink to this headline">¶</a></h1>
<p>O pacote EOCube permite que o usuário realize buscas por imagens de
sensoriamento remoto com a criação de cubos de dados utilizando as
matrizes indexadas com <em>Xarray</em>. Para isso o usuário necessita apenas de
um código de acesso do projeto <em>BDC</em> e selecionar alguns parâmetros como
as coleções de dados baseadas nos conjuntos de imagens dos satélites,
uma área de interesse em formato de limites em coordenadas de dois
pontos no mapa denominado <em>Bounding Box</em>, as bandas espectrais como o
infravermelho próximo ou espectros visíveis como azul, verde e vermelho,
o período de tempo a partir de duas datas definindo uma linha temporal e
por último se necessário um limite para quantidade de imagens no retorno
da busca.</p>
<div class="section" id="acessando-dados-de-observacao-da-terra-com-a-api-eocubes">
<h2>Acessando dados de observação da Terra com a API - EOCubes<a class="headerlink" href="#acessando-dados-de-observacao-da-terra-com-a-api-eocubes" title="Permalink to this headline">¶</a></h2>
<p>Para iniciar nosso estudo de caso precisando importar as bibliotecas
necessárias como a <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> para visualizar os dados de forma
gráfica e customizar a visualização das imagens.</p>
<p>Logo, importanmos a biblioteca <code class="docutils literal notranslate"><span class="pre">DataCube</span></code> do pacote <em>EOCube</em>
juntamente com a biblioteca <code class="docutils literal notranslate"><span class="pre">info</span></code> para o retorno das informações do
<em>STAC</em> e a bibloteca <code class="docutils literal notranslate"><span class="pre">config</span></code> para configurar nossas variáveis de
ambiente.</p>
<p>Como utilizaremos o serviço <em>STAC</em> do Projeto <em>Brazil Data Cube - BDC</em>
não necessitamos alterar o <code class="docutils literal notranslate"><span class="pre">config.STAC_URL</span></code> para outros servidores.</p>
<p>Então vamos inserir o <em>token</em> de acesso adiquirido pelo <em>site</em> de
autenticação <a class="reference external" href="https://brazildatacube.dpi.inpe.br/auth/v1/auth/login">BDC
Auth</a> do
projeto <em>BDC</em>.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib</span> <span class="k">as</span> <span class="nn">mpl</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="o">%</span><span class="k">matplotlib</span> inline

<span class="kn">from</span> <span class="nn">eocube</span> <span class="kn">import</span> <span class="n">DataCube</span><span class="p">,</span> <span class="n">info</span><span class="p">,</span> <span class="n">config</span>

<span class="n">config</span><span class="o">.</span><span class="n">ACCESS_TOKEN</span> <span class="o">=</span> <span class="s2">&quot;&lt;seu_token&gt;&quot;</span>
</pre></div>
</div>
<div class="section" id="recuperando-os-metadados">
<h3>Recuperando os metadados<a class="headerlink" href="#recuperando-os-metadados" title="Permalink to this headline">¶</a></h3>
<p>Agora que importamos as bibliotecas necessárias podemos criar um cubo de
dados para o estudo de caso.</p>
<p>Mas antes vamos recuperar as coleções de dados disponíveis para a
criação do Cubo com o método <code class="docutils literal notranslate"><span class="pre">info.collections()</span></code>:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">info</span><span class="o">.</span><span class="n">collections</span><span class="p">()</span>
</pre></div>
</div>
<p>STAC</p>
                    <ul>
                     <li><b>URL:</b> https://brazildatacube.dpi.inpe.br/stac/</li>
                     <li><b>Collections:</b></li>
                     <ul>
                     <li>S2-MOSAIC-PARAIBA_10_3M_STK-1</li><li>CB4-MOSAIC-BRAZIL_64_3M_STK-1</li><li>MOD13Q1-6</li><li>CB4A-MOSAIC-PARAIBA_55_3M_STK-1</li><li>CB4MUX_20-1</li><li>LC8SR-1</li><li>S2_L1C-1</li><li>CB4MUX_20_1M_STK-1</li><li>LC8_30-1</li><li>S2_MSI_L2_SR_LASRC-1</li><li>LC8_DN-1</li><li>KD_S2_20M_VISBANDS_CURUAI-1</li><li>LC8_30_6M_MEDSTK-1</li><li>LC8-MOSAIC-BRAZIL_30_6M_MEDSTK-1</li><li>MYD13Q1-6</li><li>LC8_30_16D_STK-1</li><li>CB4_64_16D_STK-1</li><li>CB4_64-1</li><li>CB4_20_1M_STK-1</li><li>S2_10_16D_STK-1</li><li>S2-SEN2COR_10_16D_STK-1</li><li>LCC_C4_64_1M_STK_PA-SPC-AC-NA-1</li><li>LCC_S2_10_1M_STK_PA-SPC-AC-NA-1</li><li>LCC_L8_30_1M_STK_PA-SPC-AC-NA-1</li><li>S2_10-1</li><li>CB4-MUX-L4-SR-CMPAC-COG-1</li><li>LCC_C4_64_1M_STK_MT_PA-SPC-AC-NA-1</li><li>LCC_C4_64_1M_STK_GO_PA-SPC-AC-NA-1</li><li>LCC_C4_64_1M_STK_MT_RF_PA-SPC-AC-NA-1</li>
                     </ul>
                   </ul><p>Bom para fins de estudo utilizaremos apenas a coleção
<code class="docutils literal notranslate"><span class="pre">CB4_64_16D_STK-1</span></code> pois possui as bandas espectrais necessárias para a
exploração dos dados pelo pacote <em>EOCube</em>.</p>
<p>Então vamos recuperar os metadados referentes a esta coleção com o
método <code class="docutils literal notranslate"><span class="pre">info.describe</span></code>:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">info</span><span class="o">.</span><span class="n">describe</span><span class="p">(</span><span class="s2">&quot;CB4_64_16D_STK-1&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div>
    <b>Collection:</b> CB4_64_16D_STK-1
</div>
<div>
    <b>Description:</b> This datacube was generated with all available surface reflectance images from CB4_64 cube. The data is provided with 64 meters of spatial resolution, reprojected and cropped to BDC_LG grid, considering a temporal compositing function of 16 days using the best pixel approach (Stack).
</div>
<div>
    <b>Start date:</b> 2016-01-01T00:00:00
    <b>End date:</b> 2021-02-17T00:00:00
</div>
<div>
    <b>STAC Version:</b> 0.9.0
</div>
</br>

<b>Bands</b>
<div>
    <table>
        <tr>
        </tr>
        <tr>
            <th>name</th>
            <th>common_name</th>
            <th>min</th>
            <th>max</th>
            <th>nodata</th>
            <th>scale</th>
            <th>data_type</th>
        </tr>

        <tr>
            <td>BAND13</td>
            <td>blue</td>
            <td>0.0</td>
            <td>10000.0</td>
            <td>-9999.0</td>
            <td>0.0001</td>
            <td>int16</td>
        </tr>

        <tr>
            <td>BAND14</td>
            <td>green</td>
            <td>0.0</td>
            <td>10000.0</td>
            <td>-9999.0</td>
            <td>0.0001</td>
            <td>int16</td>
        </tr>

        <tr>
            <td>BAND15</td>
            <td>red</td>
            <td>0.0</td>
            <td>10000.0</td>
            <td>-9999.0</td>
            <td>0.0001</td>
            <td>int16</td>
        </tr>

        <tr>
            <td>BAND16</td>
            <td>nir</td>
            <td>0.0</td>
            <td>10000.0</td>
            <td>-9999.0</td>
            <td>0.0001</td>
            <td>int16</td>
        </tr>

        <tr>
            <td>CLEAROB</td>
            <td>ClearOb</td>
            <td>1.0</td>
            <td>255.0</td>
            <td>0.0</td>
            <td>1.0</td>
            <td>uint8</td>
        </tr>

        <tr>
            <td>CMASK</td>
            <td>quality</td>
            <td>0.0</td>
            <td>4.0</td>
            <td>255.0</td>
            <td>1.0</td>
            <td>uint8</td>
        </tr>

        <tr>
            <td>EVI</td>
            <td>evi</td>
            <td>-10000.0</td>
            <td>10000.0</td>
            <td>-9999.0</td>
            <td>0.0001</td>
            <td>int16</td>
        </tr>

        <tr>
            <td>NDVI</td>
            <td>ndvi</td>
            <td>-10000.0</td>
            <td>10000.0</td>
            <td>-9999.0</td>
            <td>0.0001</td>
            <td>int16</td>
        </tr>

        <tr>
            <td>PROVENANCE</td>
            <td>Provenance</td>
            <td>1.0</td>
            <td>366.0</td>
            <td>-1.0</td>
            <td>1.0</td>
            <td>int16</td>
        </tr>

        <tr>
            <td>TOTALOB</td>
            <td>TotalOb</td>
            <td>1.0</td>
            <td>255.0</td>
            <td>0.0</td>
            <td>1.0</td>
            <td>uint8</td>
        </tr>

    </table>
</div>
</br>

<div>
    <b>Extent</b>
</div>
<div>
    <table>
        <tr>
            <th>xmin</th>
            <th>ymin</th>
            <th>xmax</th>
            <th>ymax</th>
        </tr>
        <tr>
            <td>-79.267539</td>
            <td>-35.241045</td>
            <td>-29.421667</td>
            <td>9.14676</td>
        </tr>
    </table>
</div>
</br>

<div>
    <div><b>Timeline</b></div>
    <select id="timeline" size="10">

        <option value="2016-01-01">2016-01-01</option>\n

        <option value="2016-01-16">2016-01-16</option>\n

        <option value="2016-01-17">2016-01-17</option>\n

        <option value="2016-02-01">2016-02-01</option>\n

        <option value="2016-02-02">2016-02-02</option>\n

        <option value="2016-02-17">2016-02-17</option>\n

        <option value="2016-02-18">2016-02-18</option>\n

        <option value="2016-03-04">2016-03-04</option>\n

        <option value="2016-03-05">2016-03-05</option>\n

        <option value="2016-03-20">2016-03-20</option>\n

        <option value="2016-03-21">2016-03-21</option>\n

        <option value="2016-04-05">2016-04-05</option>\n

        <option value="2016-04-06">2016-04-06</option>\n

        <option value="2016-04-21">2016-04-21</option>\n

        <option value="2016-04-22">2016-04-22</option>\n

        <option value="2016-05-07">2016-05-07</option>\n

        <option value="2016-05-08">2016-05-08</option>\n

        <option value="2016-05-23">2016-05-23</option>\n

        <option value="2016-05-24">2016-05-24</option>\n

        <option value="2016-06-08">2016-06-08</option>\n

        <option value="2016-06-09">2016-06-09</option>\n

        <option value="2016-06-24">2016-06-24</option>\n

        <option value="2016-06-25">2016-06-25</option>\n

        <option value="2016-07-10">2016-07-10</option>\n

        <option value="2016-07-11">2016-07-11</option>\n

        <option value="2016-07-26">2016-07-26</option>\n

        <option value="2016-07-27">2016-07-27</option>\n

        <option value="2016-08-11">2016-08-11</option>\n

        <option value="2016-08-12">2016-08-12</option>\n

        <option value="2016-08-27">2016-08-27</option>\n

        <option value="2016-08-28">2016-08-28</option>\n

        <option value="2016-09-12">2016-09-12</option>\n

        <option value="2016-09-13">2016-09-13</option>\n

        <option value="2016-09-28">2016-09-28</option>\n

        <option value="2016-09-29">2016-09-29</option>\n

        <option value="2016-10-14">2016-10-14</option>\n

        <option value="2016-10-15">2016-10-15</option>\n

        <option value="2016-10-30">2016-10-30</option>\n

        <option value="2016-10-31">2016-10-31</option>\n

        <option value="2016-11-15">2016-11-15</option>\n

        <option value="2016-11-16">2016-11-16</option>\n

        <option value="2016-12-01">2016-12-01</option>\n

        <option value="2016-12-02">2016-12-02</option>\n

        <option value="2016-12-17">2016-12-17</option>\n

        <option value="2016-12-18">2016-12-18</option>\n

        <option value="2016-12-31">2016-12-31</option>\n

        <option value="2017-01-01">2017-01-01</option>\n

        <option value="2017-01-16">2017-01-16</option>\n

        <option value="2017-01-17">2017-01-17</option>\n

        <option value="2017-02-01">2017-02-01</option>\n

        <option value="2017-02-02">2017-02-02</option>\n

        <option value="2017-02-17">2017-02-17</option>\n

        <option value="2017-02-18">2017-02-18</option>\n

        <option value="2017-03-05">2017-03-05</option>\n

        <option value="2017-03-06">2017-03-06</option>\n

        <option value="2017-03-21">2017-03-21</option>\n

        <option value="2017-03-22">2017-03-22</option>\n

        <option value="2017-04-06">2017-04-06</option>\n

        <option value="2017-04-07">2017-04-07</option>\n

        <option value="2017-04-22">2017-04-22</option>\n

        <option value="2017-04-23">2017-04-23</option>\n

        <option value="2017-05-08">2017-05-08</option>\n

        <option value="2017-05-09">2017-05-09</option>\n

        <option value="2017-05-24">2017-05-24</option>\n

        <option value="2017-05-25">2017-05-25</option>\n

        <option value="2017-06-09">2017-06-09</option>\n

        <option value="2017-06-10">2017-06-10</option>\n

        <option value="2017-06-25">2017-06-25</option>\n

        <option value="2017-06-26">2017-06-26</option>\n

        <option value="2017-07-11">2017-07-11</option>\n

        <option value="2017-07-12">2017-07-12</option>\n

        <option value="2017-07-27">2017-07-27</option>\n

        <option value="2017-07-28">2017-07-28</option>\n

        <option value="2017-08-12">2017-08-12</option>\n

        <option value="2017-08-13">2017-08-13</option>\n

        <option value="2017-08-28">2017-08-28</option>\n

        <option value="2017-08-29">2017-08-29</option>\n

        <option value="2017-09-13">2017-09-13</option>\n

        <option value="2017-09-14">2017-09-14</option>\n

        <option value="2017-09-29">2017-09-29</option>\n

        <option value="2017-09-30">2017-09-30</option>\n

        <option value="2017-10-15">2017-10-15</option>\n

        <option value="2017-10-16">2017-10-16</option>\n

        <option value="2017-10-31">2017-10-31</option>\n

        <option value="2017-11-01">2017-11-01</option>\n

        <option value="2017-11-16">2017-11-16</option>\n

        <option value="2017-11-17">2017-11-17</option>\n

        <option value="2017-12-02">2017-12-02</option>\n

        <option value="2017-12-03">2017-12-03</option>\n

        <option value="2017-12-18">2017-12-18</option>\n

        <option value="2017-12-19">2017-12-19</option>\n

        <option value="2017-12-31">2017-12-31</option>\n

        <option value="2018-01-01">2018-01-01</option>\n

        <option value="2018-01-16">2018-01-16</option>\n

        <option value="2018-01-17">2018-01-17</option>\n

        <option value="2018-02-01">2018-02-01</option>\n

        <option value="2018-02-02">2018-02-02</option>\n

        <option value="2018-02-17">2018-02-17</option>\n

        <option value="2018-02-18">2018-02-18</option>\n

        <option value="2018-03-05">2018-03-05</option>\n

        <option value="2018-03-06">2018-03-06</option>\n

        <option value="2018-03-21">2018-03-21</option>\n

        <option value="2018-03-22">2018-03-22</option>\n

        <option value="2018-04-06">2018-04-06</option>\n

        <option value="2018-04-07">2018-04-07</option>\n

        <option value="2018-04-22">2018-04-22</option>\n

        <option value="2018-04-23">2018-04-23</option>\n

        <option value="2018-05-08">2018-05-08</option>\n

        <option value="2018-05-09">2018-05-09</option>\n

        <option value="2018-05-24">2018-05-24</option>\n

        <option value="2018-05-25">2018-05-25</option>\n

        <option value="2018-06-09">2018-06-09</option>\n

        <option value="2018-06-10">2018-06-10</option>\n

        <option value="2018-06-25">2018-06-25</option>\n

        <option value="2018-06-26">2018-06-26</option>\n

        <option value="2018-07-11">2018-07-11</option>\n

        <option value="2018-07-12">2018-07-12</option>\n

        <option value="2018-07-27">2018-07-27</option>\n

        <option value="2018-07-28">2018-07-28</option>\n

        <option value="2018-08-12">2018-08-12</option>\n

        <option value="2018-08-13">2018-08-13</option>\n

        <option value="2018-08-28">2018-08-28</option>\n

        <option value="2018-08-29">2018-08-29</option>\n

        <option value="2018-09-13">2018-09-13</option>\n

        <option value="2018-09-14">2018-09-14</option>\n

        <option value="2018-09-29">2018-09-29</option>\n

        <option value="2018-09-30">2018-09-30</option>\n

        <option value="2018-10-15">2018-10-15</option>\n

        <option value="2018-10-16">2018-10-16</option>\n

        <option value="2018-10-31">2018-10-31</option>\n

        <option value="2018-11-01">2018-11-01</option>\n

        <option value="2018-11-16">2018-11-16</option>\n

        <option value="2018-11-17">2018-11-17</option>\n

        <option value="2018-12-02">2018-12-02</option>\n

        <option value="2018-12-03">2018-12-03</option>\n

        <option value="2018-12-18">2018-12-18</option>\n

        <option value="2018-12-19">2018-12-19</option>\n

        <option value="2018-12-31">2018-12-31</option>\n

        <option value="2019-01-01">2019-01-01</option>\n

        <option value="2019-01-16">2019-01-16</option>\n

        <option value="2019-01-17">2019-01-17</option>\n

        <option value="2019-02-01">2019-02-01</option>\n

        <option value="2019-02-02">2019-02-02</option>\n

        <option value="2019-02-17">2019-02-17</option>\n

        <option value="2019-02-18">2019-02-18</option>\n

        <option value="2019-03-05">2019-03-05</option>\n

        <option value="2019-03-06">2019-03-06</option>\n

        <option value="2019-03-21">2019-03-21</option>\n

        <option value="2019-03-22">2019-03-22</option>\n

        <option value="2019-04-06">2019-04-06</option>\n

        <option value="2019-04-07">2019-04-07</option>\n

        <option value="2019-04-22">2019-04-22</option>\n

        <option value="2019-04-23">2019-04-23</option>\n

        <option value="2019-05-08">2019-05-08</option>\n

        <option value="2019-05-09">2019-05-09</option>\n

        <option value="2019-05-24">2019-05-24</option>\n

        <option value="2019-05-25">2019-05-25</option>\n

        <option value="2019-06-09">2019-06-09</option>\n

        <option value="2019-06-10">2019-06-10</option>\n

        <option value="2019-06-25">2019-06-25</option>\n

        <option value="2019-06-26">2019-06-26</option>\n

        <option value="2019-07-11">2019-07-11</option>\n

        <option value="2019-07-12">2019-07-12</option>\n

        <option value="2019-07-27">2019-07-27</option>\n

        <option value="2019-07-28">2019-07-28</option>\n

        <option value="2019-08-12">2019-08-12</option>\n

        <option value="2019-08-13">2019-08-13</option>\n

        <option value="2019-08-28">2019-08-28</option>\n

        <option value="2019-08-29">2019-08-29</option>\n

        <option value="2019-09-13">2019-09-13</option>\n

        <option value="2019-09-14">2019-09-14</option>\n

        <option value="2019-09-29">2019-09-29</option>\n

        <option value="2019-09-30">2019-09-30</option>\n

        <option value="2019-10-15">2019-10-15</option>\n

        <option value="2019-10-16">2019-10-16</option>\n

        <option value="2019-10-31">2019-10-31</option>\n

        <option value="2019-11-01">2019-11-01</option>\n

        <option value="2019-11-16">2019-11-16</option>\n

        <option value="2019-11-17">2019-11-17</option>\n

        <option value="2019-12-02">2019-12-02</option>\n

        <option value="2019-12-03">2019-12-03</option>\n

        <option value="2019-12-18">2019-12-18</option>\n

        <option value="2019-12-19">2019-12-19</option>\n

        <option value="2019-12-31">2019-12-31</option>\n

        <option value="2020-01-01">2020-01-01</option>\n

        <option value="2020-01-16">2020-01-16</option>\n

        <option value="2020-01-17">2020-01-17</option>\n

        <option value="2020-02-01">2020-02-01</option>\n

        <option value="2020-02-02">2020-02-02</option>\n

        <option value="2020-02-17">2020-02-17</option>\n

        <option value="2020-02-18">2020-02-18</option>\n

        <option value="2020-03-04">2020-03-04</option>\n

        <option value="2020-03-05">2020-03-05</option>\n

        <option value="2020-03-20">2020-03-20</option>\n

        <option value="2020-03-21">2020-03-21</option>\n

        <option value="2020-04-05">2020-04-05</option>\n

        <option value="2020-04-06">2020-04-06</option>\n

        <option value="2020-04-21">2020-04-21</option>\n

        <option value="2020-04-22">2020-04-22</option>\n

        <option value="2020-05-07">2020-05-07</option>\n

        <option value="2020-05-08">2020-05-08</option>\n

        <option value="2020-05-23">2020-05-23</option>\n

        <option value="2020-05-24">2020-05-24</option>\n

        <option value="2020-06-08">2020-06-08</option>\n

        <option value="2020-06-09">2020-06-09</option>\n

        <option value="2020-06-24">2020-06-24</option>\n

        <option value="2020-06-25">2020-06-25</option>\n

        <option value="2020-07-10">2020-07-10</option>\n

        <option value="2020-07-11">2020-07-11</option>\n

        <option value="2020-07-26">2020-07-26</option>\n

        <option value="2020-07-27">2020-07-27</option>\n

        <option value="2020-07-31">2020-07-31</option>\n

        <option value="2020-08-12">2020-08-12</option>\n

        <option value="2020-08-27">2020-08-27</option>\n

        <option value="2020-08-28">2020-08-28</option>\n

        <option value="2020-09-12">2020-09-12</option>\n

        <option value="2020-09-13">2020-09-13</option>\n

        <option value="2020-09-28">2020-09-28</option>\n

        <option value="2020-09-29">2020-09-29</option>\n

        <option value="2020-10-14">2020-10-14</option>\n

        <option value="2020-10-15">2020-10-15</option>\n

        <option value="2020-10-30">2020-10-30</option>\n

        <option value="2020-10-31">2020-10-31</option>\n

        <option value="2020-11-15">2020-11-15</option>\n

        <option value="2020-11-16">2020-11-16</option>\n

        <option value="2020-12-01">2020-12-01</option>\n

        <option value="2020-12-02">2020-12-02</option>\n

        <option value="2020-12-17">2020-12-17</option>\n

        <option value="2020-12-18">2020-12-18</option>\n

        <option value="2020-12-31">2020-12-31</option>\n

        <option value="2021-01-01">2021-01-01</option>\n

        <option value="2021-01-16">2021-01-16</option>\n

        <option value="2021-01-17">2021-01-17</option>\n

        <option value="2021-02-01">2021-02-01</option>\n

        <option value="2021-02-02">2021-02-02</option>\n

        <option value="2021-02-17">2021-02-17</option>\n

    </select>
</div></div>
<div class="section" id="criacao-do-cubo-de-dados-de-exemplo">
<h3>Criação do Cubo de Dados de Exemplo<a class="headerlink" href="#criacao-do-cubo-de-dados-de-exemplo" title="Permalink to this headline">¶</a></h3>
<p>Com esta reposta podemos visualizar os atributos necessários para a
criação do cubo com a coleção selecionada, é possível criar cubos com
várias coleções através no tempo, mas para este caso utilizaremos apenas
a coleção do satélite <em>CBERS 4A</em>. Para compreender os filtros de dados,
a seguir temos algumas definições:</p>
<div class="section" id="collection">
<h4>Collection<a class="headerlink" href="#collection" title="Permalink to this headline">¶</a></h4>
<p>Uma <em>collection</em> representa uma coleção de dados. Abaixo são listadas
algumas coleções disponíveis no serviço do <em>Brazil Data Cube</em> e suas
respectivas descrições, como exemplos:</p>
<ul class="simple">
<li><p>MOD13Q1-6: Terra Moderate Resolution Imaging Spectroradiometer
(MODIS) Vegetation Indices (MOD13Q1) Version 6.</p></li>
<li><p>S2_MSI_L2_SR_LASRC-1: Sentinel-2 SR - LaSRC/Fmask 4.2.</p></li>
<li><p>CB4_64-1: CBERS-4 - AWFI - Cube Identity - v001.</p></li>
</ul>
</div>
<div class="section" id="bounding-box">
<h4>Bounding Box<a class="headerlink" href="#bounding-box" title="Permalink to this headline">¶</a></h4>
<p>Um bbox representa uma área definida por duas longitudes e duas
latitudes, onde:</p>
<ul class="simple">
<li><p>A latitude é um número decimal entre -90.0 e 90.0</p></li>
<li><p>A longitude é um número decimal entre -180.0 e 180.0</p></li>
</ul>
<p><strong>Observação:</strong> O formato segue o padrão: bbox = [min Longitude , min
Latitude , max Longitude , max Latitude]. As coordenadas acima podem ser
adiquiridas utilizando a ferramenta <em>online</em> para visualização dos
cubos, o <a class="reference external" href="http://brazildatacube.dpi.inpe.br/portal/explore">Portal do Projeto Brazil Data
Cube</a>.</p>
</div>
<div class="section" id="filtros-de-entrada">
<h4>Filtros de entrada<a class="headerlink" href="#filtros-de-entrada" title="Permalink to this headline">¶</a></h4>
<p>Para fins de testagem utilizaremos os seguintes parâmetros:</p>
<ul class="simple">
<li><p><strong>Collection</strong>: CBERS-4 - AWFI - Cube Stack 16 days - v001;</p></li>
<li><p><strong>Bands</strong>: Red, Green, Blue e NIR (Near Infra-red);</p></li>
<li><p><strong>Bounding Box</strong>: -46.1425924, -23.0466003, -45.5534169, -23.4302733;</p></li>
<li><p><strong>Start Date</strong>: 2018-01-01;</p></li>
<li><p><strong>Last Date</strong>: 2021-01-01.</p></li>
</ul>
<p>Para este primeiro estudo de caso utilizaremos uma área de estudo
referente ao município de São José dos Campos.</p>
<p>Podemos conferir se estes atributos estão de acordo com a resposta
retornada acima e com os filtro definidos vamos conferir a documentação
para a biblioteca <code class="docutils literal notranslate"><span class="pre">DataCube</span></code>:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>DataCube<span class="o">?</span>
</pre></div>
</div>
<p>Com o retorno podemos verifirar a colocação e a nomeclatura das
variavéis e criar nosso cubo de dados de exemplo com base nesta
informação:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%time</span>
<span class="n">eodatacube</span> <span class="o">=</span> <span class="n">DataCube</span><span class="p">(</span>
    <span class="n">collections</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;CB4_64_16D_STK-1&quot;</span><span class="p">],</span>
    <span class="n">query_bands</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;nir&#39;</span><span class="p">],</span>
    <span class="n">bbox</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mf">46.1425924</span><span class="p">,</span> <span class="o">-</span><span class="mf">23.0466003</span><span class="p">,</span> <span class="o">-</span><span class="mf">45.5534169</span><span class="p">,</span> <span class="o">-</span><span class="mf">23.4302733</span><span class="p">],</span>
    <span class="n">start_date</span><span class="o">=</span><span class="s2">&quot;2018-01-01&quot;</span><span class="p">,</span>
    <span class="n">end_date</span><span class="o">=</span><span class="s2">&quot;2021-01-01&quot;</span><span class="p">,</span>
    <span class="n">limit</span><span class="o">=</span><span class="mi">50</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CPU</span> <span class="n">times</span><span class="p">:</span> <span class="n">user</span> <span class="mi">194</span> <span class="n">ms</span><span class="p">,</span> <span class="n">sys</span><span class="p">:</span> <span class="mf">57.5</span> <span class="n">ms</span><span class="p">,</span> <span class="n">total</span><span class="p">:</span> <span class="mi">252</span> <span class="n">ms</span>
<span class="n">Wall</span> <span class="n">time</span><span class="p">:</span> <span class="mf">5.03</span> <span class="n">s</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="operacoes-com-o-cubo-de-dados">
<h3>Operações com o Cubo de dados<a class="headerlink" href="#operacoes-com-o-cubo-de-dados" title="Permalink to this headline">¶</a></h3>
<p>Primeiramente com o cubo de dados criado podemos executar os métodos
listados anteriormente na documentação da biblioteca.</p>
<p>Vamos primeiro visualizar os dados adiquiridos em forma de imagems em
composição colorida.</p>
<p>Para este método é essencial a existência das bandas <em>Red</em>, <em>Green</em> e
<em>Blue</em> para o cálculo da composição colorida da imagem, caso estas
bandas não estejam na busca acarretará em um erro ou <em>Exception</em>.</p>
<p>Podemos visualizar qualquer uma das bandas selecionadas ou calcular os
índices espectrais cujo cálculo possua as bandas selecionadas como na
imagem a seguir:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">eodatacube</span><span class="o">.</span><span class="n">interactPlot</span><span class="p">(</span><span class="s2">&quot;rgb&quot;</span><span class="p">)</span> <span class="c1"># &quot;ndvi&quot;, &quot;ndwi&quot; ou qualquer outra banda selecionada</span>
</pre></div>
</div>
<p>O método <code class="docutils literal notranslate"><span class="pre">interactPlot</span></code> retorna uma visualização interativa para o
<code class="docutils literal notranslate"><span class="pre">jupyter</span> <span class="pre">notebook</span></code>.</p>
<img alt="_images/interact_plot.png" src="_images/interact_plot.png" />
<p>Podemos também visualizar uma banda em uma data específica para fins de
amostragem.</p>
<p>Por exemplo, queremos visualizar a banda espectral <em>Near Infra Red -
NIR</em> na data de 21 de Agosto de 2020.</p>
<p>Para isso formatamos a data e selecionamos uma banda, mais uma vez vamos
visualizar a documentação de um método, o <code class="docutils literal notranslate"><span class="pre">DataCube.search</span></code> que fará a
busca na base de dados completa.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>DataCube.search<span class="o">?</span>
</pre></div>
</div>
<p>Com esta resposta podemos definir nossas variáveis.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nir</span> <span class="o">=</span> <span class="n">eodatacube</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">band</span><span class="o">=</span><span class="s2">&quot;nir&quot;</span><span class="p">,</span><span class="n">time</span><span class="o">=</span><span class="s2">&quot;2020-08-21&quot;</span><span class="p">)</span>
<span class="n">nir</span>
</pre></div>
</div>
<div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2 {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray [&#x27;ResultSearch_nir&#x27;] (time: 1, y: 633, x: 964)&gt;
array([[[2549, 2582, 2430, ..., 2583, 2783, 2815],
        [2550, 2737, 2603, ..., 2578, 2918, 2953],
        [2677, 2898, 2844, ..., 2623, 2964, 3003],
        ...,
        [3102, 3049, 3114, ..., 2669, 2718, 2278],
        [3100, 3058, 3047, ..., 2772, 2761, 2623],
        [2839, 2791, 2783, ..., 2813, 2664, 2593]]], dtype=int16)
Coordinates:
  * time     (time) datetime64[ns] 2020-08-28
  * y        (y) int64 0 1 2 3 4 5 6 7 8 ... 624 625 626 627 628 629 630 631 632
  * x        (x) int64 0 1 2 3 4 5 6 7 8 ... 955 956 957 958 959 960 961 962 963
Attributes:
    CB4_64_16D_STK-1:  CBERS-4 - AWFI - Cube Stack 16 days - v001</pre><div class='xr-wrap' hidden><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'['ResultSearch_nir']'</div><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 1</li><li><span class='xr-has-index'>y</span>: 633</li><li><span class='xr-has-index'>x</span>: 964</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-66993c61-edcb-4bcf-aba3-60dc9a839ece' class='xr-array-in' type='checkbox' checked><label for='section-66993c61-edcb-4bcf-aba3-60dc9a839ece' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>2549 2582 2430 2471 2578 2689 2624 ... 2749 3191 3222 2813 2664 2593</span></div><div class='xr-array-data'><pre>array([[[2549, 2582, 2430, ..., 2583, 2783, 2815],
        [2550, 2737, 2603, ..., 2578, 2918, 2953],
        [2677, 2898, 2844, ..., 2623, 2964, 3003],
        ...,
        [3102, 3049, 3114, ..., 2669, 2718, 2278],
        [3100, 3058, 3047, ..., 2772, 2761, 2623],
        [2839, 2791, 2783, ..., 2813, 2664, 2593]]], dtype=int16)</pre></div></div></li><li class='xr-section-item'><input id='section-62d8077e-f063-4487-a9df-9da30025356c' class='xr-section-summary-in' type='checkbox'  checked><label for='section-62d8077e-f063-4487-a9df-9da30025356c' class='xr-section-summary' >Coordinates: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2020-08-28</div><input id='attrs-ba8a4f90-7439-4a93-b393-2c49f3d6ecb0' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-ba8a4f90-7439-4a93-b393-2c49f3d6ecb0' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-fe81f6bb-dce0-4c6a-b89e-817010a66161' class='xr-var-data-in' type='checkbox'><label for='data-fe81f6bb-dce0-4c6a-b89e-817010a66161' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;2020-08-28T00:00:00.000000000&#x27;], dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>y</span></div><div class='xr-var-dims'>(y)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>0 1 2 3 4 5 ... 628 629 630 631 632</div><input id='attrs-d4efd936-1c94-42cb-a5a8-7f894b03c249' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-d4efd936-1c94-42cb-a5a8-7f894b03c249' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-e0b0829c-c8af-4736-ab7c-921b3817d642' class='xr-var-data-in' type='checkbox'><label for='data-e0b0829c-c8af-4736-ab7c-921b3817d642' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([  0,   1,   2, ..., 630, 631, 632])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>x</span></div><div class='xr-var-dims'>(x)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>0 1 2 3 4 5 ... 959 960 961 962 963</div><input id='attrs-cbf0c1d8-73b1-4d37-9a3b-17cf8d0eb378' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-cbf0c1d8-73b1-4d37-9a3b-17cf8d0eb378' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-8b4f789e-1c21-48bd-9ba7-fae83faf8604' class='xr-var-data-in' type='checkbox'><label for='data-8b4f789e-1c21-48bd-9ba7-fae83faf8604' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([  0,   1,   2, ..., 961, 962, 963])</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-a4e0b7eb-517b-4cf9-90b4-5171c08fc3d1' class='xr-section-summary-in' type='checkbox'  checked><label for='section-a4e0b7eb-517b-4cf9-90b4-5171c08fc3d1' class='xr-section-summary' >Attributes: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>CB4_64_16D_STK-1 :</span></dt><dd>CBERS-4 - AWFI - Cube Stack 16 days - v001</dd></dl></div></li></ul></div></div><p>Com esta resposta podemos visualizar a imagem de forma customizada</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">colormap</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">get_cmap</span><span class="p">(</span><span class="s1">&#39;Reds&#39;</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span>
    <span class="n">nir</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
    <span class="n">cmap</span><span class="o">=</span><span class="n">colormap</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img alt="_images/output_17_0.png" src="_images/output_17_0.png" />
<div class="section" id="geracao-de-indices-espectrais">
<h4>Geração de Índices Espectrais<a class="headerlink" href="#geracao-de-indices-espectrais" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>Os índices espectrais são uma importante ferramenta da área de
sensoriamento remoto.</p></li>
<li><p>Os índices espectrais possibilitam identificar diferentes alvos em
imagens de satélites.</p></li>
<li><p>Neste trabalho, foi implementado um módulo que permite o cálculo dos
índices espectrais: NDVI, NDWI e NDBI.</p></li>
<li><p>O objetivo é permitir que o usuário possa extrair informações
desejadas, por meio do cálculo dos índices, a partir de matrizes de
pixels das bandas.</p></li>
<li><p><strong>O que é o NDVI?</strong></p></li>
</ul>
<p>O Índice de Vegetação de Diferença Normalizada (NDVI) é um indicador da
biomassa fotossinteticamente ativa. Consiste em um cálculo realizado por
meio de bandas espectrais que tem como objetivo indicar a saúde da
vegetação.</p>
<ul class="simple">
<li><p><strong>O que o NDVI possibilita?</strong></p></li>
</ul>
<p>O NDVI ajuda a diferenciar a vegetação de outros tipos de cobertura da
terra (como alvos não-naturais) e sua condição geral, bem como
identificar e classificar áreas cultivadas em mapas temáticos,
auxiliando na detecção de mudanças em padrões.</p>
<ul class="simple">
<li><p><strong>Como o NDVI é calculado?</strong></p></li>
</ul>
<p>O NDVI é calculado por meio da diferença entre a reflectância das bandas
infravermelho próximo (NIR) e do vermelho (RED), dividida pela soma das
duas reflectâncias, sendo expresso matematicamente como:</p>
<p><span class="math notranslate nohighlight">\(NDVI = \frac{NIR - RED}{NIR + RED}\)</span></p>
<p>Para geração dos índices espectrais (NDVI, NDWI e NDBI) foi construído
um módulo, chamado indices.py. Este módulo contém as seguintes funções:</p>
<ul class="simple">
<li><p><strong>calculo_ndvi(nir, red, cte_delta=1e-10)</strong></p></li>
<li><p><strong>calculo_ndwi(nir, green, cte_delta=1e-10)</strong></p></li>
<li><p><strong>calculo_ndbi(nir, swir1, cte_delta=1e-10)</strong></p></li>
</ul>
<p>Uma constante foi criada para fazer uma adição no denominador de ambos
os cálculos dos índices espectrais. Por padrão, esta constante foi
definida com o valor de <span class="math notranslate nohighlight">\(1e-10\)</span>. Caso o usuário desejar, poderá
alterar o valor da constante.</p>
<p>Podemos também visualizar os índices espectrais como NDVI, NDWI e NDBI
de uma data específica.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ndvi</span> <span class="o">=</span> <span class="n">eodatacube</span><span class="o">.</span><span class="n">calculateNDVI</span><span class="p">(</span><span class="s2">&quot;2020-08-21&quot;</span><span class="p">)</span>
<span class="n">ndvi</span>
</pre></div>
</div>
<div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2 {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray [&#x27;ImageNDVI&#x27;] (time: 1, y: 633, x: 964)&gt;
array([[[0.69537745, 0.76125512, 0.77891654, ..., 0.40380435,
         0.47717622, 0.54035568],
        [0.70113409, 0.68534483, 0.69908616, ..., 0.42509674,
         0.57815035, 0.61985738],
        [0.6964512 , 0.58101473, 0.55282555, ..., 0.3900371 ,
         0.55468135, 0.63651226],
        ...,
        [0.79565847, 0.80788615, 0.81257276, ..., 0.38757473,
         0.45114789, 0.3776837 ],
        [0.79970972, 0.8083974 , 0.80562963, ..., 0.40141557,
         0.44592825, 0.40870032],
        [0.79286391, 0.80588806, 0.79028627, ..., 0.4164149 ,
         0.39439937, 0.39784367]]])
Coordinates:
  * time     (time) datetime64[ns] 2020-08-28
  * y        (y) int64 0 1 2 3 4 5 6 7 8 ... 624 625 626 627 628 629 630 631 632
  * x        (x) int64 0 1 2 3 4 5 6 7 8 ... 955 956 957 958 959 960 961 962 963
Attributes:
    CB4_64_16D_STK-1:  CBERS-4 - AWFI - Cube Stack 16 days - v001</pre><div class='xr-wrap' hidden><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'['ImageNDVI']'</div><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 1</li><li><span class='xr-has-index'>y</span>: 633</li><li><span class='xr-has-index'>x</span>: 964</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-4dbf5720-c14f-46f3-9ef7-c33a29cc40f5' class='xr-array-in' type='checkbox' checked><label for='section-4dbf5720-c14f-46f3-9ef7-c33a29cc40f5' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>0.6954 0.7613 0.7789 0.7688 0.7585 ... 0.5435 0.4164 0.3944 0.3978</span></div><div class='xr-array-data'><pre>array([[[0.69537745, 0.76125512, 0.77891654, ..., 0.40380435,
         0.47717622, 0.54035568],
        [0.70113409, 0.68534483, 0.69908616, ..., 0.42509674,
         0.57815035, 0.61985738],
        [0.6964512 , 0.58101473, 0.55282555, ..., 0.3900371 ,
         0.55468135, 0.63651226],
        ...,
        [0.79565847, 0.80788615, 0.81257276, ..., 0.38757473,
         0.45114789, 0.3776837 ],
        [0.79970972, 0.8083974 , 0.80562963, ..., 0.40141557,
         0.44592825, 0.40870032],
        [0.79286391, 0.80588806, 0.79028627, ..., 0.4164149 ,
         0.39439937, 0.39784367]]])</pre></div></div></li><li class='xr-section-item'><input id='section-7b09a221-af86-43f1-9310-4b98f1484b64' class='xr-section-summary-in' type='checkbox'  checked><label for='section-7b09a221-af86-43f1-9310-4b98f1484b64' class='xr-section-summary' >Coordinates: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2020-08-28</div><input id='attrs-0fd57b8c-d511-4262-bd5d-d309a022c054' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-0fd57b8c-d511-4262-bd5d-d309a022c054' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-e2acaf8b-6e45-4a73-a250-070ca1bd85d1' class='xr-var-data-in' type='checkbox'><label for='data-e2acaf8b-6e45-4a73-a250-070ca1bd85d1' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;2020-08-28T00:00:00.000000000&#x27;], dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>y</span></div><div class='xr-var-dims'>(y)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>0 1 2 3 4 5 ... 628 629 630 631 632</div><input id='attrs-fb0b964b-d252-4c02-ab5f-0f9589aedda7' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-fb0b964b-d252-4c02-ab5f-0f9589aedda7' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-f3c09588-98f5-4916-a3ce-07b11bc36f73' class='xr-var-data-in' type='checkbox'><label for='data-f3c09588-98f5-4916-a3ce-07b11bc36f73' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([  0,   1,   2, ..., 630, 631, 632])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>x</span></div><div class='xr-var-dims'>(x)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>0 1 2 3 4 5 ... 959 960 961 962 963</div><input id='attrs-95b79330-8f66-4e50-92dd-6ab5f7c8aca7' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-95b79330-8f66-4e50-92dd-6ab5f7c8aca7' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-ce49a497-0157-4fc3-9042-408e00f9f1d0' class='xr-var-data-in' type='checkbox'><label for='data-ce49a497-0157-4fc3-9042-408e00f9f1d0' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([  0,   1,   2, ..., 961, 962, 963])</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-669a3bf4-c92f-44cb-83c5-30ef5f903b44' class='xr-section-summary-in' type='checkbox'  checked><label for='section-669a3bf4-c92f-44cb-83c5-30ef5f903b44' class='xr-section-summary' >Attributes: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>CB4_64_16D_STK-1 :</span></dt><dd>CBERS-4 - AWFI - Cube Stack 16 days - v001</dd></dl></div></li></ul></div></div><p>E mais uma vez podemos customizar a imagem em um plot em python.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">colormap</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">get_cmap</span><span class="p">(</span><span class="s1">&#39;Greens&#39;</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span>
    <span class="n">ndvi</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
    <span class="n">cmap</span><span class="o">=</span><span class="n">colormap</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img alt="_images/output_21_0.png" src="_images/output_21_0.png" />
</div>
<div class="section" id="series-temporais">
<h4>Séries temporais<a class="headerlink" href="#series-temporais" title="Permalink to this headline">¶</a></h4>
<p>Por meio de um cubo de dados podemos visualizar uma série temporal com
base nas mudanças que um determinado ponto no mapa (na área de
interesse) sovreu durante um certo período de tempo.</p>
<p>Para este método também é possivel visualizar a documentação para
inferir um período de tempo customizado desde que se enquadre no período
de tempo selecionado.</p>
<p>Há um exemplo de uso abaixo:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">time_series</span> <span class="o">=</span> <span class="n">eodatacube</span><span class="o">.</span><span class="n">getTimeSeries</span><span class="p">(</span>
    <span class="n">band</span><span class="o">=</span><span class="s1">&#39;nir&#39;</span><span class="p">,</span> <span class="n">lon</span><span class="o">=-</span><span class="mf">45.7422561</span><span class="p">,</span> <span class="n">lat</span><span class="o">=-</span><span class="mf">23.2508317</span><span class="c1">#, start_date=&quot;2020-01-01&quot;, end_date=&quot;2021-01-01&quot;</span>
<span class="p">)</span>
<span class="n">time_series</span>
</pre></div>
</div>
<div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2 {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray [&#x27;TimeSeries_NIR&#x27;] (time: 50)&gt;
array([2972, 4007, 3721, 3540, 5045, 2043, 3164, 3745, 3283, 2029, 2899,
       3220, 2816, 2869, 1251, 2676, 2784, 2759, 2458, 3391, 2436, 2595,
       2759, 3398, 7836, 2856, 3462, 3306, 2889, 3311, 2960, 2957, 1536,
       1936, 3288, 2972, 2768, 2826, 3878, 3170, 2831, 2701, 2635, 2808,
       2873, 2858, 3984, 3990, 4060, 3945], dtype=int16)
Coordinates:
  * time     (time) datetime64[ns] 2018-10-16 2018-11-01 ... 2021-01-01
Attributes:
    longitude:  -45.7422561
    latitude:   -23.2508317</pre><div class='xr-wrap' hidden><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'['TimeSeries_NIR']'</div><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 50</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-16cf8e12-45ae-485f-a4c6-e7c997c74929' class='xr-array-in' type='checkbox' checked><label for='section-16cf8e12-45ae-485f-a4c6-e7c997c74929' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>2972 4007 3721 3540 5045 2043 3164 ... 2873 2858 3984 3990 4060 3945</span></div><div class='xr-array-data'><pre>array([2972, 4007, 3721, 3540, 5045, 2043, 3164, 3745, 3283, 2029, 2899,
       3220, 2816, 2869, 1251, 2676, 2784, 2759, 2458, 3391, 2436, 2595,
       2759, 3398, 7836, 2856, 3462, 3306, 2889, 3311, 2960, 2957, 1536,
       1936, 3288, 2972, 2768, 2826, 3878, 3170, 2831, 2701, 2635, 2808,
       2873, 2858, 3984, 3990, 4060, 3945], dtype=int16)</pre></div></div></li><li class='xr-section-item'><input id='section-5943a8bb-5dda-423c-b2ef-f662515a5b58' class='xr-section-summary-in' type='checkbox'  checked><label for='section-5943a8bb-5dda-423c-b2ef-f662515a5b58' class='xr-section-summary' >Coordinates: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2018-10-16 ... 2021-01-01</div><input id='attrs-4ccb6fd7-26de-43ea-a5f3-37f936b46455' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-4ccb6fd7-26de-43ea-a5f3-37f936b46455' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-0030ab52-bcc8-44fd-ae89-ffad0fc79209' class='xr-var-data-in' type='checkbox'><label for='data-0030ab52-bcc8-44fd-ae89-ffad0fc79209' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;2018-10-16T00:00:00.000000000&#x27;, &#x27;2018-11-01T00:00:00.000000000&#x27;,
       &#x27;2018-11-17T00:00:00.000000000&#x27;, &#x27;2018-12-03T00:00:00.000000000&#x27;,
       &#x27;2018-12-19T00:00:00.000000000&#x27;, &#x27;2019-01-01T00:00:00.000000000&#x27;,
       &#x27;2019-01-17T00:00:00.000000000&#x27;, &#x27;2019-02-02T00:00:00.000000000&#x27;,
       &#x27;2019-02-18T00:00:00.000000000&#x27;, &#x27;2019-03-06T00:00:00.000000000&#x27;,
       &#x27;2019-03-22T00:00:00.000000000&#x27;, &#x27;2019-04-07T00:00:00.000000000&#x27;,
       &#x27;2019-04-23T00:00:00.000000000&#x27;, &#x27;2019-05-09T00:00:00.000000000&#x27;,
       &#x27;2019-05-25T00:00:00.000000000&#x27;, &#x27;2019-06-10T00:00:00.000000000&#x27;,
       &#x27;2019-06-26T00:00:00.000000000&#x27;, &#x27;2019-07-12T00:00:00.000000000&#x27;,
       &#x27;2019-07-28T00:00:00.000000000&#x27;, &#x27;2019-08-13T00:00:00.000000000&#x27;,
       &#x27;2019-08-29T00:00:00.000000000&#x27;, &#x27;2019-09-14T00:00:00.000000000&#x27;,
       &#x27;2019-09-30T00:00:00.000000000&#x27;, &#x27;2019-10-16T00:00:00.000000000&#x27;,
       &#x27;2019-11-01T00:00:00.000000000&#x27;, &#x27;2019-11-17T00:00:00.000000000&#x27;,
       &#x27;2019-12-03T00:00:00.000000000&#x27;, &#x27;2019-12-19T00:00:00.000000000&#x27;,
       &#x27;2020-01-01T00:00:00.000000000&#x27;, &#x27;2020-01-17T00:00:00.000000000&#x27;,
       &#x27;2020-02-18T00:00:00.000000000&#x27;, &#x27;2020-03-05T00:00:00.000000000&#x27;,
       &#x27;2020-03-21T00:00:00.000000000&#x27;, &#x27;2020-04-06T00:00:00.000000000&#x27;,
       &#x27;2020-04-22T00:00:00.000000000&#x27;, &#x27;2020-05-08T00:00:00.000000000&#x27;,
       &#x27;2020-06-09T00:00:00.000000000&#x27;, &#x27;2020-06-25T00:00:00.000000000&#x27;,
       &#x27;2020-07-11T00:00:00.000000000&#x27;, &#x27;2020-07-27T00:00:00.000000000&#x27;,
       &#x27;2020-08-12T00:00:00.000000000&#x27;, &#x27;2020-08-28T00:00:00.000000000&#x27;,
       &#x27;2020-09-13T00:00:00.000000000&#x27;, &#x27;2020-09-29T00:00:00.000000000&#x27;,
       &#x27;2020-10-15T00:00:00.000000000&#x27;, &#x27;2020-10-31T00:00:00.000000000&#x27;,
       &#x27;2020-11-16T00:00:00.000000000&#x27;, &#x27;2020-12-02T00:00:00.000000000&#x27;,
       &#x27;2020-12-18T00:00:00.000000000&#x27;, &#x27;2021-01-01T00:00:00.000000000&#x27;],
      dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-2fd06a13-2540-4b57-87eb-c62a69ac3df6' class='xr-section-summary-in' type='checkbox'  checked><label for='section-2fd06a13-2540-4b57-87eb-c62a69ac3df6' class='xr-section-summary' >Attributes: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>longitude :</span></dt><dd>-45.7422561</dd><dt><span>latitude :</span></dt><dd>-23.2508317</dd></dl></div></li></ul></div></div><p>Com este dado repurado podemos visualizar uma série temporal em gráfico
com o <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> conforme se segue:</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">time_series</span><span class="o">.</span><span class="n">time</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">time_series</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Time Series</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Time&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Near Infra Red&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img alt="_images/output_25_0.png" src="_images/output_25_0.png" />
</div>
</div>
<div class="section" id="estudo-de-caso-na-area-de-protecao-ambiental-do-planalto-central-brasilia">
<h3>Estudo de Caso na Área de Proteção Ambiental do Planalto Central - Brasília<a class="headerlink" href="#estudo-de-caso-na-area-de-protecao-ambiental-do-planalto-central-brasilia" title="Permalink to this headline">¶</a></h3>
<p>Neste estudo de caso foi selecionada uma área onde houve incidência de
queimadas no período do mês de agosto em 2019 na Área de Proteção
Ambiental do Planalto a Central, localizado no Distrito Federal,
Brasília. Os filtros criados para este estudo de caso são mostrados nos
tópicos a seguir:</p>
<ul class="simple">
<li><p><strong>Collection:</strong> S2_10_16D_STK-1;</p></li>
<li><p><strong>Bands:</strong> Red, Green, Blue e NIR (Near Infra-red);</p></li>
<li><p><strong>Bounding Box:</strong> -47.9910, -15.9653, -47.9632, -15.9463;</p></li>
<li><p><strong>Start Date:</strong> 2019-01-01;</p></li>
<li><p><strong>End Date:</strong> 2019-01-01.</p></li>
</ul>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%time</span>
<span class="n">eocube_service</span> <span class="o">=</span> <span class="n">DataCube</span><span class="p">(</span>
    <span class="n">collections</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;S2_10_16D_STK-1&quot;</span><span class="p">],</span>
    <span class="n">query_bands</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;nir&#39;</span><span class="p">,</span> <span class="s1">&#39;ndvi&#39;</span><span class="p">],</span>
    <span class="n">bbox</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mf">47.9910</span><span class="p">,</span><span class="o">-</span><span class="mf">15.9653</span><span class="p">,</span><span class="o">-</span><span class="mf">47.9632</span><span class="p">,</span><span class="o">-</span><span class="mf">15.9463</span><span class="p">],</span>
    <span class="n">start_date</span><span class="o">=</span><span class="s2">&quot;2019-01-01&quot;</span><span class="p">,</span>
    <span class="n">end_date</span><span class="o">=</span><span class="s2">&quot;2020-01-01&quot;</span><span class="p">,</span>
    <span class="n">limit</span><span class="o">=</span><span class="mi">50</span>
<span class="p">)</span>
<span class="n">eocube_service</span><span class="o">.</span><span class="n">interactPlot</span><span class="p">(</span><span class="s1">&#39;rgb&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>interactive(children=(Dropdown(description=&#39;date&#39;, options=(datetime.datetime(2019, 1, 1, 0, 0), datetime.date…
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CPU</span> <span class="n">times</span><span class="p">:</span> <span class="n">user</span> <span class="mi">578</span> <span class="n">ms</span><span class="p">,</span> <span class="n">sys</span><span class="p">:</span> <span class="mi">212</span> <span class="n">ms</span><span class="p">,</span> <span class="n">total</span><span class="p">:</span> <span class="mi">790</span> <span class="n">ms</span>
<span class="n">Wall</span> <span class="n">time</span><span class="p">:</span> <span class="mf">4.89</span> <span class="n">s</span>
</pre></div>
</div>
<p>Com o pacote <em>EOCube</em> é permitido calcular alguns índices espectrais
como o NDVI para o município selecionado no dia 16 de agosto em 2018.</p>
<p>Com este índice é possível visualizar as áreas que apresentam maiores
índices de vegetação, e neste caso de uso pode-se observar a área
degradada pela queimada em duas datas diferentes para o mês de agosto de
2019.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%time</span>
<span class="n">ndvi</span> <span class="o">=</span> <span class="n">eocube_service</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;ndvi&#39;</span><span class="p">)</span>

<span class="n">loc1</span> <span class="o">=</span> <span class="n">ndvi</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;2019-08-13&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
<span class="n">loc2</span> <span class="o">=</span> <span class="n">ndvi</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;2019-08-29&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">151</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">loc1</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Greens&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;2019-08-13 - NDVI&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">152</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">loc2</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Greens&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;2019-08-29 - NDVI&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CPU</span> <span class="n">times</span><span class="p">:</span> <span class="n">user</span> <span class="mi">921</span> <span class="n">ms</span><span class="p">,</span> <span class="n">sys</span><span class="p">:</span> <span class="mf">34.2</span> <span class="n">ms</span><span class="p">,</span> <span class="n">total</span><span class="p">:</span> <span class="mi">955</span> <span class="n">ms</span>
<span class="n">Wall</span> <span class="n">time</span><span class="p">:</span> <span class="mf">4.58</span> <span class="n">s</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Text</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="s1">&#39;2019-08-29 - NDVI&#39;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/output_29_2.png" src="_images/output_29_2.png" />
<p>A série temporal gerada abaixo foi baseada em um ponto, com coordenadas
-47.9886031 e -15.9533037, específico da imagem recuperada para o
cálculo dos índices para o período selecionado.</p>
<p>É possível observar que no mês de agosto aconteceu uma queda
considerável no valor de NDVI devido a degradação observada na figura
anterior.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%time</span>
<span class="n">ts</span> <span class="o">=</span> <span class="n">eocube_service</span><span class="o">.</span><span class="n">getTimeSeries</span><span class="p">(</span>
    <span class="n">band</span><span class="o">=</span><span class="s1">&#39;ndvi&#39;</span><span class="p">,</span>
    <span class="n">lon</span><span class="o">=-</span><span class="mf">47.9886031</span><span class="p">,</span> <span class="n">lat</span><span class="o">=</span> <span class="o">-</span><span class="mf">15.9533037</span><span class="p">,</span>
    <span class="n">start_date</span> <span class="o">=</span> <span class="s2">&quot;2019-01-01&quot;</span><span class="p">,</span> <span class="n">end_date</span><span class="o">=</span><span class="s2">&quot;2020-01-01&quot;</span>
<span class="p">)</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">values</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">values</span><span class="o">/</span><span class="n">ts</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Time Series</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Time&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;NDVI&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;green&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img alt="_images/output_31_0.png" src="_images/output_31_0.png" />
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CPU</span> <span class="n">times</span><span class="p">:</span> <span class="n">user</span> <span class="mf">1.57</span> <span class="n">s</span><span class="p">,</span> <span class="n">sys</span><span class="p">:</span> <span class="mi">247</span> <span class="n">ms</span><span class="p">,</span> <span class="n">total</span><span class="p">:</span> <span class="mf">1.81</span> <span class="n">s</span>
<span class="n">Wall</span> <span class="n">time</span><span class="p">:</span> <span class="mf">3.77</span> <span class="n">s</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="conclusao">
<h2>Conclusão<a class="headerlink" href="#conclusao" title="Permalink to this headline">¶</a></h2>
<p>Por fim, cabe ressaltar que o projeto de desenvolvimento do pacote
<em>EOCube</em> apresentado, permite à comunidade científica o acesso, a
recuperação e a visualização de dados de uso e cobertura da Terra.</p>
<p>Os estudos de caso apresentaram resultados satisfatórios em relação a
proposta do pacote pela criação de cubos de dados para áreas do
território brasileiro, realizando a análise através do tempo. Como
proposta para trabalhos futuros, as sugestões são aprimorar o pacote
<em>EOCube</em> por meio do desenvolvimento de novas funcionalidades como a
programação paralela e a estruturação dos dados.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="history.html" class="btn btn-neutral float-right" title="History" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="install.html" class="btn btn-neutral float-left" title="Instalação" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, None.

    </p>
  </div> 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'XXXXXXXXXX', 'auto');
    
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>